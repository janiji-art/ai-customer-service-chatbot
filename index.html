<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Customer Service Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 90%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .header p {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .status-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 12px;
            height: 12px;
            background: #2ecc71;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .chat-container {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
        }

        .message.bot .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            margin-left: 10px;
        }

        .message.user .message-content {
            background: #e3f2fd;
            color: #1565c0;
            margin-right: 10px;
        }

        .avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .bot-avatar {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .user-avatar {
            background: #e3f2fd;
            color: #1565c0;
        }

        .sentiment-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: 8px;
        }

        .sentiment-positive { background: #4caf50; }
        .sentiment-neutral { background: #ff9800; }
        .sentiment-negative { background: #f44336; }

        .input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        .input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .message-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            outline: none;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .message-input:focus {
            border-color: #667eea;
        }

        .voice-btn, .send-btn {
            width: 45px;
            height: 45px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 18px;
        }

        .voice-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .voice-btn:hover {
            transform: scale(1.05);
        }

        .voice-btn.recording {
            animation: recordingPulse 1s infinite;
        }

        @keyframes recordingPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .send-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .send-btn:hover {
            transform: scale(1.05);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .features {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: #f1f3f4;
            font-size: 12px;
            color: #666;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .typing-indicator {
            display: none;
            padding: 10px 16px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 18px;
            margin-left: 45px;
            margin-bottom: 15px;
        }

        .typing-dots {
            display: inline-flex;
            gap: 3px;
        }

        .typing-dots span {
            width: 6px;
            height: 6px;
            background: #667eea;
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typingAnimation {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            padding: 0 20px 20px;
            flex-wrap: wrap;
        }

        .quick-action {
            padding: 8px 12px;
            background: #e3f2fd;
            color: #1565c0;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .quick-action:hover {
            background: #bbdefb;
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="status-indicator"></div>
            <h1>ðŸ¤– AI Customer Service</h1>
            <p>Intelligent assistant powered by advanced AI models</p>
        </div>

        <div class="features">
            <div class="feature">
                <span>ðŸŽ¤</span>
                <span>Voice Recognition</span>
            </div>
            <div class="feature">
                <span>ðŸ˜Š</span>
                <span>Sentiment Analysis</span>
            </div>
            <div class="feature">
                <span>ðŸ§ </span>
                <span>Context Aware</span>
            </div>
            <div class="feature">
                <span>âš¡</span>
                <span>Real-time Response</span>
            </div>
        </div>

        <div class="quick-actions">
            <button class="quick-action" onclick="sendQuickMessage('I need help with my order')">Order Help</button>
            <button class="quick-action" onclick="sendQuickMessage('Technical support needed')">Tech Support</button>
            <button class="quick-action" onclick="sendQuickMessage('Billing question')">Billing</button>
            <button class="quick-action" onclick="sendQuickMessage('Return policy')">Returns</button>
        </div>

        <div class="chat-container" id="chatContainer">
            <div class="message bot">
                <div class="avatar bot-avatar">AI</div>
                <div class="message-content">
                    Hello! I'm your AI customer service assistant. I'm here to help you with any questions or concerns you may have. How can I assist you today?
                    <span class="sentiment-indicator sentiment-positive"></span>
                </div>
            </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
            <div class="typing-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <span style="margin-left: 10px;">AI is thinking...</span>
        </div>

        <div class="input-container">
            <div class="input-wrapper">
                <button class="voice-btn" id="voiceBtn" title="Voice Input">ðŸŽ¤</button>
                <input type="text" class="message-input" id="messageInput" placeholder="Type your message here..." maxlength="500">
                <button class="send-btn" id="sendBtn" title="Send Message">âž¤</button>
            </div>
        </div>
    </div>

    <script>
        class AICustomerService {
            constructor() {
                this.chatContainer = document.getElementById('chatContainer');
                this.messageInput = document.getElementById('messageInput');
                this.sendBtn = document.getElementById('sendBtn');
                this.voiceBtn = document.getElementById('voiceBtn');
                this.typingIndicator = document.getElementById('typingIndicator');
                
                this.isRecording = false;
                this.recognition = null;
                this.conversationContext = [];
                
                this.initializeEventListeners();
                this.initializeVoiceRecognition();
                this.loadKnowledgeBase();
            }

            initializeEventListeners() {
                this.sendBtn.addEventListener('click', () => this.sendMessage());
                this.messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.sendMessage();
                });
                this.voiceBtn.addEventListener('click', () => this.toggleVoiceRecognition());
                
                // Auto-resize input and enable/disable send button
                this.messageInput.addEventListener('input', () => {
                    this.sendBtn.disabled = !this.messageInput.value.trim();
                });
            }

            initializeVoiceRecognition() {
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    this.recognition = new SpeechRecognition();
                    this.recognition.continuous = false;
                    this.recognition.interimResults = false;
                    this.recognition.lang = 'en-US';

                    this.recognition.onresult = (event) => {
                        const transcript = event.results[0][0].transcript;
                        this.messageInput.value = transcript;
                        this.sendMessage();
                    };

                    this.recognition.onend = () => {
                        this.isRecording = false;
                        this.voiceBtn.classList.remove('recording');
                    };
                } else {
                    this.voiceBtn.style.display = 'none';
                }
            }

            loadKnowledgeBase() {
                this.knowledgeBase = {
                    'order': {
                        keywords: ['order', 'purchase', 'buy', 'delivery', 'shipping', 'tracking'],
                        responses: [
                            "I'd be happy to help you with your order! Could you please provide your order number?",
                            "For order-related queries, I can help you track shipments, modify orders, or check delivery status.",
                            "Let me assist you with your order. What specific information do you need?"
                        ]
                    },
                    'technical': {
                        keywords: ['technical', 'bug', 'error', 'not working', 'problem', 'issue', 'support'],
                        responses: [
                            "I understand you're experiencing a technical issue. Can you describe what's happening?",
                            "Technical problems can be frustrating. Let me help you troubleshoot this step by step.",
                            "I'm here to help resolve your technical concern. What device or service are you having trouble with?"
                        ]
                    },
                    'billing': {
                        keywords: ['billing', 'payment', 'charge', 'refund', 'money', 'cost', 'price'],
                        responses: [
                            "I can help you with billing questions. What specific concern do you have about your account?",
                            "For billing inquiries, I can explain charges, process refunds, or update payment methods.",
                            "Let me assist you with your billing question. Could you provide more details?"
                        ]
                    },
                    'return': {
                        keywords: ['return', 'exchange', 'refund', 'send back', 'defective'],
                        responses: [
                            "I can help you with returns and exchanges. What item would you like to return?",
                            "Our return policy allows returns within 30 days. What's the reason for your return?",
                            "I'll guide you through the return process. Do you have your order number ready?"
                        ]
                    }
                };
            }

            toggleVoiceRecognition() {
                if (this.isRecording) {
                    this.recognition.stop();
                } else {
                    this.recognition.start();
                    this.isRecording = true;
                    this.voiceBtn.classList.add('recording');
                }
            }

            sendMessage() {
                const message = this.messageInput.value.trim();
                if (!message) return;

                this.addMessage(message, 'user');
                this.messageInput.value = '';
                this.sendBtn.disabled = true;

                // Show typing indicator
                this.showTypingIndicator();

                // Simulate AI processing time
                setTimeout(() => {
                    const response = this.generateAIResponse(message);
                    this.hideTypingIndicator();
                    this.addMessage(response.text, 'bot', response.sentiment);
                }, Math.random() * 2000 + 1000);

                // Store conversation context
                this.conversationContext.push({
                    user: message,
                    timestamp: new Date()
                });
            }

            sendQuickMessage(message) {
                this.messageInput.value = message;
                this.sendMessage();
            }

            generateAIResponse(userMessage) {
                const sentiment = this.analyzeSentiment(userMessage);
                const category = this.categorizeQuery(userMessage);
                
                let response = {
                    text: "I understand your concern. Let me help you with that.",
                    sentiment: 'neutral'
                };

                // Generate contextual response based on category
                if (category && this.knowledgeBase[category]) {
                    const responses = this.knowledgeBase[category].responses;
                    response.text = responses[Math.floor(Math.random() * responses.length)];
                }

                // Adjust response based on sentiment
                if (sentiment === 'negative') {
                    response.text = "I sincerely apologize for any inconvenience. " + response.text;
                    response.sentiment = 'negative';
                } else if (sentiment === 'positive') {
                    response.text = response.text + " I'm glad to assist you!";
                    response.sentiment = 'positive';
                }

                // Add context-aware responses
                if (this.conversationContext.length > 0) {
                    const lastContext = this.conversationContext[this.conversationContext.length - 1];
                    if (Date.now() - lastContext.timestamp.getTime() < 60000) {
                        response.text += " Is there anything else related to this I can help you with?";
                    }
                }

                return response;
            }

            categorizeQuery(message) {
                const lowerMessage = message.toLowerCase();
                
                for (const [category, data] of Object.entries(this.knowledgeBase)) {
                    if (data.keywords.some(keyword => lowerMessage.includes(keyword))) {
                        return category;
                    }
                }
                
                return null;
            }

            analyzeSentiment(message) {
                const positiveWords = ['great', 'good', 'excellent', 'amazing', 'wonderful', 'fantastic', 'love', 'like', 'happy', 'satisfied'];
                const negativeWords = ['bad', 'terrible', 'awful', 'hate', 'angry', 'frustrated', 'disappointed', 'problem', 'issue', 'wrong'];
                
                const lowerMessage = message.toLowerCase();
                const positiveCount = positiveWords.filter(word => lowerMessage.includes(word)).length;
                const negativeCount = negativeWords.filter(word => lowerMessage.includes(word)).length;
                
                if (positiveCount > negativeCount) return 'positive';
                if (negativeCount > positiveCount) return 'negative';
                return 'neutral';
            }

            addMessage(text, sender, sentiment = 'neutral') {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}`;
                
                const avatar = document.createElement('div');
                avatar.className = `avatar ${sender}-avatar`;
                avatar.textContent = sender === 'bot' ? 'AI' : 'You';
                
                const content = document.createElement('div');
                content.className = 'message-content';
                content.innerHTML = text;
                
                if (sender === 'bot') {
                    const sentimentIndicator = document.createElement('span');
                    sentimentIndicator.className = `sentiment-indicator sentiment-${sentiment}`;
                    content.appendChild(sentimentIndicator);
                }
                
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(content);
                
                this.chatContainer.appendChild(messageDiv);
                this.chatContainer.scrollTop = this.chatContainer.scrollHeight;
            }

            showTypingIndicator() {
                this.typingIndicator.style.display = 'block';
                this.chatContainer.scrollTop = this.chatContainer.scrollHeight;
            }

            hideTypingIndicator() {
                this.typingIndicator.style.display = 'none';
            }
        }

        // Initialize the AI Customer Service system
        document.addEventListener('DOMContentLoaded', () => {
            new AICustomerService();
        });

        // Quick message function for global access
        function sendQuickMessage(message) {
            document.getElementById('messageInput').value = message;
            document.getElementById('sendBtn').click();
        }
    </script>
</body>
</html>
